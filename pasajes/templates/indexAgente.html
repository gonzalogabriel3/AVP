{% extends "plantillaBase.html" %}

{% block contenido %}
<!--Cargo el load static por si hay que mostrar alguna imagen desde el directorio assets-->
{% load static %}
<br>
<!--Valido si se recibe algun mensjae para mostrar-->
{% if messages %}
	<div class="alert alert-success">
	{% for message in messages %}
		<img src="{% static 'ok.png' %}" alt="imagenOk" style="display:inline-block;width: 25px;height: 25px" />
    	<p style="display:inline-block;"><strong>{{ message }}</strong></p>
    {% endfor %}
	</div>
{% endif %}
<a href="{% url 'altaAgente' %}" class="btn btn-success" style="display: inline-block;"><span class="glyphicon glyphicon-plus"></span> Nuevo agente</a>

<br><br>
{% if agentes %}
	<table class="datatable display" style="width:100%">
		<thead>
			<tr>
				<th>Id agente</th>
				<th>Nombre</th>
				<th>Apellido</th>
				<th>DNI</th>
				<th>Fecha nacimiento</th>
				<th>Localidad</th>
				<th>Acciones</th>
			</tr>
		</thead>
		<tbody>
	    {% for agen in agentes %}
	    	<tr>
	        	<td>{{ agen.id }}</td>
	        	<td>{{ agen.nombre }}</td>
	        	<td>{{ agen.apellido }}</td>
	        	<td>{{ agen.documento }}</td>
	        	<td>{{ agen.fecha_nacimiento }}</td>
	        	<td>{{ agen.id_localidad.nombre }}</td>
	        	<td>
	        		<a href="{% url 'modificacionAgente' agen.id %}" class="btn btn-warning"><span class="glyphicon glyphicon-edit"></span>Editar</a>
	        		<a href="{% url 'bajaAgente' agen.id %}" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span> Eliminar</a>
	        		<a href="{% url 'agentePasaje' %}" class="btn btn-info"><span class="glyphicon glyphicon-file"></span> Generar Pasaje</a>
	        	</td>
	    	</tr>
	    {% endfor %}
	    </tbody>
	    <tfoot>
			<tr>
				<th>Id agente</th>
				<th>Nombre</th>
				<th>Apellido</th>
				<th>DNI</th>
				<th>Fecha nacimiento</th>
				<th>Localidad</th>
				<th>Acciones</th>
			</tr>
		</tfoot>
	</table>
{% else %}
    <p>No hay agentes a mostrar</p>
{% endif %}


{% endblock %}
